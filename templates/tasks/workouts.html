{% extends "base.html" %}
{% load static %}
{% block title %}Workout Plan{% endblock %}
{% block extra_head %}
  {{ block.super }}
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">
{% endblock %}
{% block content %}
<div class="workouts-shell">
  <header class="workouts-header">
    <div>
      <h1>Your Workout Plan</h1>
      <p>AI-generated weekly sequence based on your goals</p>
    </div>
    <a class="health-button-secondary" href="#">Generate New Plan</a>
  </header>

  <section class="workouts-week">
    <h2><span class="workouts-icon">ðŸ“…</span>This Week</h2>
    <div class="workouts-week__days">
      {% for day in week_days %}
        <button type="button" class="workouts-week__day{% if forloop.first %} is-active{% endif %}">
          <span class="workouts-week__label">{{ day }}</span>
          <span class="workouts-week__date">{{ forloop.counter }}</span>
        </button>
      {% endfor %}
    </div>
  </section>

  <section class="workouts-list">
    {% for workout in workouts_plan %}
      <article class="workout-card">
        <header class="workout-card__header">
          <div>
            <h3>{{ workout.name }}</h3>
            <div class="workout-card__meta">
              <span class="workout-tag workout-tag--{{ workout.type }}">{{ workout.type }}</span>
              <span class="workout-tag workout-tag--{{ workout.difficulty }}">{{ workout.difficulty }}</span>
              <span class="workout-duration">{{ workout.duration }} min</span>
            </div>
          </div>
          {% if workout.completed %}
            <span class="workout-status workout-status--done">Completed</span>
          {% else %}
            <a class="workout-start" href="#"><span>â–¶</span>Start Workout</a>
          {% endif %}
        </header>

        <div class="workout-exercises">
          <h4>Exercises</h4>
          <ul>
            {% for exercise in workout.exercises %}
              <li>
                <span>{{ exercise.name }}</span>
                <span class="workout-exercises__detail">
                  {% if exercise.sets and exercise.reps %}
                    {{ exercise.sets }} Ã— {{ exercise.reps }}
                  {% else %}
                    {{ exercise.duration }}s
                  {% endif %}
                </span>
              </li>
            {% endfor %}
          </ul>
        </div>
      </article>
    {% endfor %}
  </section>
</div>
{% endblock %}
{% block extra_js %}
  {{ block.super }}
{% endblock %}
